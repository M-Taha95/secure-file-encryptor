<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cipher Casino ğŸ° | Guess the Encryption!</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='game.css') }}"
    />
  </head>

  <body>
    <nav>
      <a href="/" class="back-home">ğŸ  Home</a>
    </nav>

    <header class="header">
      <div class="logo">
        <div class="logo-chip">CC</div>
        <div class="logo-text">
          <h1>Cipher Casino</h1>
          <p>Crack codes, win coins, unlock badges, and learn ciphers!</p>
        </div>
      </div>

      <div class="avatar-select">
        <span>Choose your avatar:</span>
        <button class="avatar-btn" data-avatar="kid1">ğŸ§’</button>
        <button class="avatar-btn" data-avatar="kid2">ğŸ‘§</button>
        <button class="avatar-btn" data-avatar="robot">ğŸ¤–</button>
      </div>
    </header>

    <main class="casino-wrapper">
      <!-- Player & Score Panel -->
      <section class="top-panel">
        <div class="player-info">
          <div class="avatar-display" id="avatar-display">ğŸ§’</div>
          <div>
            <div class="player-name">Player</div>
            <a href="/leaderboard" class="leaderboard-link"
              >ğŸ“ˆ View Leaderboard</a
            >
          </div>
        </div>
        <div class="score-panel">
          <div class="score-item">â­ Score: <span id="score">0</span></div>
          <div class="score-item">ğŸ”¥ Streak: <span id="streak">0</span></div>
          <div class="score-item">â¤ï¸ Lives: <span id="lives">5</span></div>
        </div>
      </section>

      <!-- Slot Machine + Encrypted Output -->
      <section class="slot-section">
        <div class="slot-machine">
          <div class="slot-frame">
            <div class="slot-screen spin-idle" id="slot-screen">
              <div id="slot-word" class="slot-word">HELLO</div>
            </div>
          </div>

          <button id="spin-btn" class="spin-btn">ğŸ° Spin!</button>
        </div>

        <div class="encrypted-box">
          <h3>ğŸ” Encrypted Output</h3>
          <div id="encrypted-result" class="encrypted-text">???</div>
        </div>
      </section>

      <!-- Guess & Mode Section -->
      <section class="guess-section">
        <h3>ğŸ§  Which cipher was used for this spin?</h3>

        <div class="mode-row">
          <label class="difficulty-label">
            Difficulty:
            <select id="difficulty">
              <option value="easy">Easy (Caesar, ROT13)</option>
              <option value="medium">
                Medium (Caesar, ROT13, XOR, Atbash)
              </option>
              <option value="hard">Hard (All ciphers)</option>
            </select>
          </label>

          <label class="practice-toggle">
            <input type="checkbox" id="practice-mode" />
            Practice mode (âˆ lives)
          </label>
        </div>

        <div class="guess-row">
          <select id="cipher-guess">
            <option value="caesar">Caesar Cipher</option>
            <option value="xor">XOR Cipher</option>
            <option value="rot13">ROT13</option>
            <option value="atbash">Atbash</option>
            <option value="substitution">Random Substitution</option>
          </select>

          <button id="check-btn" class="check-btn">Check Answer</button>
        </div>

        <p id="feedback" class="feedback"></p>
      </section>

      <!-- Badges -->
      <section class="badges-section">
        <h3>ğŸ Unlockable Badges</h3>
        <div class="badges">
          <div
            class="badge"
            id="badge-first-win"
            title="Get your first correct guess"
          >
            ğŸ¥‰ <span>First Win</span>
          </div>
          <div class="badge" id="badge-3-streak" title="Reach 3 streak">
            ğŸ¥ˆ <span>Hot Streak</span>
          </div>
          <div class="badge" id="badge-5-streak" title="Reach 5 streak">
            ğŸ¥‡ <span>On Fire</span>
          </div>
          <div class="badge" id="badge-100-score" title="Reach 100 score">
            ğŸ’ <span>Pro Decoder</span>
          </div>
          <div
            class="badge"
            id="badge-all-ciphers"
            title="Guess all cipher types at least once"
          >
            ğŸ‘‘ <span>Cipher Master</span>
          </div>
        </div>
      </section>
    </main>

    <!-- Modal Popup -->
    <div id="result-modal" class="modal hidden">
      <div class="modal-content">
        <h2 id="modal-title">Result</h2>
        <p id="modal-message"></p>
        <button id="modal-close">OK</button>
      </div>
    </div>

    <script src="{{ url_for('static', filename='game.js') }}"></script>
  </body>
</html>
